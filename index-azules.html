<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>츼rbol ORBAT - Explorador de Unidades</title>
    <script src="https://cdn.jsdelivr.net/npm/socket.io-client@4.5.4/dist/socket.io.min.js"></script>
    <!--<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels"></script>-->
    <!-- Highcharts y sus m칩dulos -->
    <script src="https://code.highcharts.com/highcharts.js"></script>
    <script src="https://code.highcharts.com/modules/data.js"></script>
    <script src="https://code.highcharts.com/modules/exporting.js"></script>
    <script src="https://code.highcharts.com/modules/export-data.js"></script>
    <script src="https://code.highcharts.com/modules/accessibility.js"></script>
    <script src="https://code.highcharts.com/modules/annotations.js"></script>

    <!-- Tema opcional -->
    <script src="https://code.highcharts.com/themes/adaptive.js"></script>

    <!-- <script src="libs/socket.io.min.js"></script>
    <script src="libs/chart.umd.js"></script>
    <script src="libs/chartjs-plugin-datalabels.js"></script>
    <script src="libs/chartjs-plugin-datalabels.min.js"></script>-->
    <link rel="stylesheet" href="styles/style.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/ol@latest/ol.css">
    <script src="https://cdn.jsdelivr.net/npm/ol@latest/dist/ol.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/mgrs/dist/mgrs.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/proj4/dist/proj4.js"></script>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/ol/ol.css">




</head>

<body>

    <!--<script>
        // Verifica si el usuario est치 logueado
        if (localStorage.getItem("usuarioLogueado") !== "true") {
            // Si no, vuelve al login
            window.location.href = "login-r.html";
        }
    </script>-->
    <div class="dashboard-grid">
        <!-- 游릱 Panel izquierdo con pesta침as -->
        <div class="side-section">
            <div class="tabs">
                <button class="tab-button active" data-tab="tab1">Personal</button>
                <button class="tab-button" data-tab="tab2">Munici칩n</button>
                <button class="tab-button" data-tab="tab3">Equipamiento</button>
                <button class="tab-button" data-tab="tab4">Mapa</button>
            </div>
            <div class="tab-content active" id="tab1">

                <h2>P칠rdidas de personal por unidad</h2>
                <!--<div class="card">
                    <canvas id="dynamicBarChart"></canvas>
                </div>-->
                <div class="card">
                    <figure class="highcharts-figure">
                        <div id="container-barras-personal"></div>
                    </figure>
                </div>
                <h2>Eficiencia en Personal</h2>
                <div class="card">
                    <!--<canvas id="dynamicLineChartPersonal"></canvas>-->
                    <figure class="highcharts-figure">
                        <div id="container-line-personal"></div>
                    </figure>
                </div>
                <h2>Resumen consolidado por unidad</h2>
                <div class="card">
                    <figure class="highcharts-figure">
                        <div id="container-donuc"></div>
                        <!--<p class="highcharts-description">
                            Este gr치fico de forma de dona representa el resumen total del personal en vivos, muertos y heridos.
                        </p>-->
                    </figure>
                </div>
            </div>

            <div class="tab-content" id="tab2">
                <h2>Consumo de recursos por munici칩n</h2>
                <div class="card">
                    <figure class="highcharts-figure">
                        <div id="consumoMunicion"></div>
                    </figure>
                </div>
                <!--<div class="card">
                    <canvas id="consumoMunicion"></canvas>
                </div>-->
                <!--<div class="card">
                    <canvas id="doughnutChart" style="width:300px; height:300px;"></canvas>
                </div>-->
                <div class="card">
                    <!--<canvas id="lineMunicionHtml" style="width:300px; height:300px;"></canvas>-->
                    <figure class="highcharts-figure">
                        <div id="container-line-municion"></div>
                    </figure>
                </div>
            </div>

            <div class="tab-content active" id="tab3">
                <h2>L칤nea de tiempo de perdidas de personal por unidad </h2>
                <div class="card">
                    <figure class="highcharts-figure">
                        <div id="parent-container">
                            <div id="play-controls">
                                <button id="play-pause-button" class="fa fa-play" title="play"></button>
                                <input id="play-range" type="range" value="0" min="0" max="21" />
                            </div>
                            <div id="container-line-time"></div>
                        </div>
                    </figure>
                    <pre id="csv">
<pre id="csv">
round	Batall칩n de Infanter칤a	Grupo de Caballer칤a Blindada	Grupo de Caballer칤a 105	Grupo de Caballer칤a Mecanizada	Compa침칤a Contramobilidad
0	0	0	0	0	0
1	18	10	6	15	45
2	18	35	16	30	12
3	28	37	16	45	56
4	53	43	34	49	57
5	61	61	49	53	60
6	73	76	51	63	65
7	85	86	55	88	66
8	85	111	73	88	69
9	85	129	83	92	78
10	85	154	98	92	80
11	85	164	116	92	90
12	85	164	131	92	100
13	85	164	141	92	120
14	85	164	149	92	130
15	85	164	157	92	140
16	85	164	167	92	150
17	240	164	173	92	160
18	255	164	198	92	170
19	273	260	206	92	180
20	281	278	207	92	190
</pre>
                </div>
            </div>
            <div class="tab-content" id="tab4">
                <h2>Mapa</h2>
                <div class="layer-switcher">
                    <label>Mapa Base:</label>
                    <select id="baseLayerSelect">
                        <option value="osm">OSM</option>
                        <option value="topo">topo</option>
                        <option value="esriSat">ESRI Satelital</option>
                    </select>
                    
                </div>
                
                <div id="map" class="map">
                    <div id="legend" class="map-legend">
                        <h4>游댍 Leyenda</h4>
                        <div><span class="legend-box" style="background:#f4a9a9;"></span> Menos del 34%</div>
                        <div><span class="legend-box" style="background:yellow;"></span>  Menos del 67%</div>
                        <div><span class="legend-box" style="background:#99e699;"></span> Mayor al 67%</div>
                    </div>
                    <div id="popup" class="ol-popup">
                        <a href="#" id="popup-closer" class="ol-popup-closer"></a>
                        <div id="popup-content"></div>
                    </div>
                </div>

            </div>

        </div>
        <!-- 游릴 Gr치fico principal con scroll a la derecha -->
        <!--<div class="scroll-container">-->
        <div id="treeContainer">
            <h2>Estado operacional por unidad</h2>
            <div id="treeContent"></div>
        </div>
        <!--</div>-->
    </div>
    <!--<div id="dashboardContainer">
       <div style="display: flex; align-items: center; justify-content: flex-start; padding: 10px;">
            <button onclick="logout()" style="
              position: fixed;
              top: 10px;
              right: 0;
              padding: 8px 14px;
              font-weight: bold;
              background-color: #f44336;
              color: white;
              border: none;
              border-radius: 5px 0 0 5px;
              cursor: pointer;
              z-index: 9999;">
                游댑 Cerrar sesi칩n
            </button>
        </div>
    </div>-->
    <!--<script>
        function logout() {
            localStorage.removeItem("usuarioLogueado");
            window.location.href = "login-r.html";
        }
    </script>-->

    <script src="scripts/pestanias.js"></script>
    <script src="scripts/graficas.js"></script>
    <script src="scripts/funciones.js"></script>
    <script src="scripts/arbol-valores.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://unpkg.com/mgrs/dist/mgrs.js"></script>
    <script src="scripts/maps/main.js"></script>
</body>

</html>